---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';

const lang = 'fr';

const teamMembers = [
  {
    name: "Riyana Afroze",
    role: "Conference Lead, Web Developer<br>Deputy Projects Chair",
    bio: `Riyana is a 4th-year Mechatronics Engineering student studying at Memorial University of Newfoundland. As the Deputy Projects Chair at SEDS-Canada, Riyana plays an instrumental role in overseeing coordination between the Project Managers and Coordinators of the four national projects (CAN-RGX, CAN-SBX, YSpacE, and the Canadian CubeSat Network) and the organization’s Board of Directors. She has been a member of the SEDS-Canada Board of Directors since January 2025 during which she re-launched YSpacE (Young Space Entrepreneurs Competition) and pioneered the Canadian CubeSat Network. Riyana is also a Co-Founder and Co-Chair of Women of SEDS (wSEDS) and was instrumental in delivering the first-ever conference celebrating women in the space sector in Canada, last July.

Outside of her role at SEDS-Canada, Riyana is focused on the development and launch of Newfoundland’s first high-power rocket for Launch Canada 2026 as the Founder and Team Captain of Horizon Aerospace - the first rocketry team at Memorial University and the only amateur rocketry club in the province of NL. She is also the Attitude Determination and Control System (ADCS) Lead for MUNStar-1 CubeSat to be launched under the Canadian Space Agency’s CUBICS initiative.

Through her work across engineering, leadership, and entrepreneurship, Riyana is focused on building ambitious, student-led initiatives that strengthen Canada’s space ecosystem and expand access to hands-on space projects.`
  },
  ...Array.from({ length: 7 }).map((_, i) => ({
    name: `Membre de l'équipe ${i + 2}`,
    role: "Poste",
    bio: `Ceci est la biographie du membre de l'équipe ${i + 2}. Ils font partie intégrante de l'équipe de la Conférence canadienne sur les CubeSats, apportant expertise et passion à l'organisation. Leur travail assure le succès de l'événement.`
  }))
];
---

<Layout title="Équipe - Conférence canadienne sur les CubeSats 2026" lang={lang}>
  <Header lang={lang} />
  
  <main class="container">
    <section class="team-section">
      <h1 class="section-title">L'équipe de la Conférence canadienne sur les CubeSats</h1>
      <p class="team-intro">Rencontrez l'équipe dévouée d'étudiants travaillant dur pour réaliser cette conférence.</p>
      <div class="team-grid">
        {teamMembers.map((member) => (
          <div class="team-member" data-bio={member.bio}>
            <div class="member-photo-placeholder"></div>
            <p class="member-name">{member.name}</p>
            <p class="member-role" set:html={member.role}></p>
            <p class="member-bio-preview">
              {member.bio.substring(0, 70)}... <span class="read-more">lire la suite</span>
            </p>
          </div>
        ))}
      </div>
    </section>

    <dialog id="team-modal" class="modal">
      <div class="modal-content">
        <button class="close-modal">&times;</button>
        <div class="modal-body">
          <div class="modal-image-container">
             <div class="modal-photo-placeholder"></div>
          </div>
          <div class="modal-text">
            <h2 id="modal-name"></h2>
            <p id="modal-role"></p>
            <p id="modal-bio"></p>
          </div>
        </div>
      </div>
    </dialog>
  </main>
</Layout>

<style>
  .team-section {
    padding: 4rem 0;
  }
  .team-intro {
    text-align: center;
    max-width: 600px;
    margin: 0 auto 3rem;
  }
  .team-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 4rem 8rem;
  }
  .team-member {
    text-align: center;
    width: calc((100% - 16rem) / 3);
    cursor: pointer;
  }
  .team-member:hover .member-photo-placeholder {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(224, 176, 255, 0.4);
  }
  .member-photo-placeholder {
    width: 180px;
    height: 180px;
    background: rgba(255,255,255,0.1);
    border-radius: 50%;
    margin: 0 auto 1.5rem;
    border: 3px solid #e0b0ff;
    transition: transform 0.3s, box-shadow 0.3s;
  }
  
  .member-name {
    font-weight: 700;
    font-size: 1.2rem;
    margin-bottom: 0.4rem;
    color: #e0b0ff;
  }
  .member-role {
    font-size: 1rem;
    color: var(--color-text-muted);
  }
  .member-bio-preview {
    font-size: 0.9rem;
    margin-top: 0.5rem;
    line-height: 1.4;
    color: #ccc;
  }
  .read-more {
    color: #e0b0ff;
    font-size: 0.85rem;
  }

  /* Modal Styles */
  .modal {
    padding: 0;
    border: none;
    border-radius: 16px;
    background: transparent;
    max-width: 1400px;
    width: 70%;
    color: white;
    margin: auto;
  }
  .modal::backdrop {
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(5px);
  }
  .modal-content {
    background: #461478; /* Fallback */
    background: linear-gradient(145deg, rgba(70, 20, 120, 0.95), rgba(40, 10, 80, 0.95));
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 2rem 6rem;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    min-height: 600px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .close-modal {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    color: white;
    font-size: 2rem;
    cursor: pointer;
    line-height: 1;
    z-index: 10;
  }
  .modal-body {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3.5rem;
    align-items: center;
  }
  @media (min-width: 768px) {
    .modal-body {
      grid-template-columns: 250px 1fr;
      gap: 5rem;
    }
  }
  .modal-image-container {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .modal-photo-placeholder {
    width: 100%;
    aspect-ratio: 1;
    background: rgba(255,255,255,0.1);
    border-radius: 50%;
    border: 3px solid #e0b0ff;
  }
  #modal-name {
    color: #e0b0ff;
    margin-top: 0;
    font-size: 2rem;
    text-align: center;
  }
  #modal-role {
    color: var(--color-text-muted);
    font-style: italic;
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
    text-align: center;
  }
  #modal-bio {
    line-height: 1.6;
    text-align: justify;
  }
  #modal-bio p {
    text-align: justify;
  }
</style>

<script>
  const modal = document.getElementById('team-modal');
  const closeBtn = document.querySelector('.close-modal');
  const teamMembers = document.querySelectorAll('.team-member');
  
  const modalName = document.getElementById('modal-name');
  const modalRole = document.getElementById('modal-role');
  const modalBio = document.getElementById('modal-bio');

  teamMembers.forEach(member => {
    member.addEventListener('click', () => {
      const name = member.querySelector('.member-name').textContent;
      const role = member.querySelector('.member-role').innerHTML;
      const bio = member.dataset.bio;

      modalName.textContent = name;
      modalRole.innerHTML = role;
      modalBio.innerHTML = '';
      
      const paragraphs = bio.split('\n\n').filter(p => p.trim());
      paragraphs.forEach(paragraph => {
        const p = document.createElement('p');
        p.textContent = paragraph.trim();
        p.style.marginBottom = '1rem';
        modalBio.appendChild(p);
      });
      
      modal.showModal();
    });
  });

  closeBtn.addEventListener('click', () => {
    modal.close();
  });

  modal.addEventListener('click', (e) => {
    const rect = modal.getBoundingClientRect();
    const isInDialog = (
      e.clientY >= rect.top &&
      rect.top + rect.height >= e.clientY &&
      e.clientX >= rect.left &&
      rect.left + rect.width >= e.clientX
    );
    if (!isInDialog) {
      modal.close();
    }
  });
</script>
